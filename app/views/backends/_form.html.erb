<%= f.error_messages %>

<p>
  <%= f.label :backend_type,'Type' %><br />
  <%= f.select :backend_type, Gateway::Session.subclasses.collect{|k,v| [k.to_s,k.to_s]},
          { :include_blank => true } %>
</p>
<p>
  <%= f.label :name %><br />
  <%= f.text_field :name %>
</p>
<table>
  <tr>
    <td width="50%" valign="top">
      <%= f.label :config %><br />
        <%= f.text_area :config, :size=>"60x20" %>
    </td>
    <td width="50%" valign="top" align="left"><br />
      <PRE>
      <div id="default_config">(Default options appear here)</div>
      </PRE>
    </td>
  </tr>
</table>
<p>
  <%= f.label :balance %><br />
  <%= f.text_field :balance %>
</p>
<p>
  <%= f.label :total_sent %><br />
  <%= f.text_field :total_sent %>
</p>
<p>
  <%= f.label :total_received %><br />
  <%= f.text_field :total_received %>
</p>
  </div>
<%= observe_field :backend_backend_type, :url => { :action => :ajax_default_config }, :frequency => 0.5, :update => :default_config,
                  :with => 'q'
    %>
